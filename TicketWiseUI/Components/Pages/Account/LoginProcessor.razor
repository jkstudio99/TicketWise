// Processor Page for Authentication
@page "/processor/{username}/{password}/{rememberme:bool}"
@using Domain.Entities
@using Microsoft.AspNetCore.Identity
@layout EmptyLayout

@inject SignInManager<User> SignInManager
@inject NavigationManager nav

Sign In...

@code {
    [Parameter] public string username { get; set; }
    [Parameter] public string password { get; set; }
    [Parameter] public bool rememberme { get; set; }

    protected override async Task OnInitializedAsync()
    {
        // Attempt to sign in
        var signInResult = await SignInManager.PasswordSignInAsync(username, password, rememberme, lockoutOnFailure: false);
        if (signInResult.Succeeded)
        {
            nav.NavigateTo("/");
        }
        else
        {
            // Handle failed login attempts here (e.g., navigate back to login with an error message)
            nav.NavigateTo("/login?error=LoginFailed");
        }
    }
}